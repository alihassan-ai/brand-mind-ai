{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/NEW/packages/shared/src/prisma.ts"],"sourcesContent":["import { PrismaClient } from '@prisma/client';\n\nconst globalForPrisma = global as unknown as { prisma: PrismaClient };\n\nexport const prisma =\n  globalForPrisma.prisma ||\n  new PrismaClient({\n    log: ['query', 'error', 'warn'],\n  });\n\nif (process.env.NODE_ENV !== 'production') globalForPrisma.prisma = prisma;\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM;AAEC,MAAM,SACX,gBAAgB,MAAM,IACtB,IAAI,sMAAY,CAAC;IACf,KAAK;QAAC;QAAS;QAAS;KAAO;AACjC;AAEF,wCAA2C,gBAAgB,MAAM,GAAG"}},
    {"offset": {"line": 23, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/NEW/packages/shared/src/types/index.ts"],"sourcesContent":["// Common types used across packages\n\nexport interface ShopContext {\n  shopId: string;\n  shopDomain: string;\n  accessToken: string;\n}\n\nexport interface DateRange {\n  from: Date;\n  to: Date;\n}\n\nexport interface PaginationOptions {\n  limit?: number;\n  cursor?: string;\n}\n\nexport interface ApiResponse<T> {\n  success: boolean;\n  data?: T;\n  error?: string;\n}\n\nexport interface ScoringWeights {\n  storeFit: number;\n  gapFill: number;\n  trendScore: number;\n  marginPotential: number;\n  competitionLevel: number;\n  seasonalAlignment: number;\n}\n\nexport const DEFAULT_SCORING_WEIGHTS: ScoringWeights = {\n  storeFit: 0.25,\n  gapFill: 0.20,\n  trendScore: 0.15,\n  marginPotential: 0.15,\n  competitionLevel: 0.10,\n  seasonalAlignment: 0.15,\n};\n"],"names":[],"mappings":"AAAA,oCAAoC;;;;;AAiC7B,MAAM,0BAA0C;IACrD,UAAU;IACV,SAAS;IACT,YAAY;IACZ,iBAAiB;IACjB,kBAAkB;IAClB,mBAAmB;AACrB"}},
    {"offset": {"line": 40, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/NEW/packages/shared/src/index.ts"],"sourcesContent":["// Shared exports for BrandMind AI\nexport { prisma } from './prisma';\nexport * from './types';\n"],"names":[],"mappings":";AAAA,kCAAkC;AAClC;AACA"}},
    {"offset": {"line": 50, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/NEW/packages/backend/src/auth/session.ts"],"sourcesContent":["import { cookies } from 'next/headers';\nimport { prisma } from '@brandmind/shared';\n\nexport async function getConnectedShop(): Promise<string | null> {\n    const cookieStore = await cookies();\n    const cookieDomain = cookieStore.get('shopify_connected_shop')?.value;\n    if (cookieDomain) return cookieDomain;\n\n    // Fallback to user session\n    const shop = await getCurrentShop();\n    return shop?.shopDomain || null;\n}\n\nexport async function getCurrentUser() {\n    const cookieStore = await cookies();\n    const userId = cookieStore.get('user_session')?.value;\n\n    if (!userId) return null;\n\n    const user = await prisma.user.findUnique({\n        where: { id: userId },\n        include: { shops: true },\n    });\n\n    return user;\n}\n\nexport async function getCurrentShop() {\n    const user = await getCurrentUser();\n    if (!user || user.shops.length === 0) return null;\n\n    // Return the first shop (for now, single shop per user)\n    return user.shops[0];\n}\n\nexport async function isOnboardingComplete(): Promise<boolean> {\n    const shop = await getCurrentShop();\n    return shop?.onboardingComplete ?? false;\n}\n"],"names":[],"mappings":";;;;;;;;;;AAAA;AACA;AAAA;;;AAEO,eAAe;IAClB,MAAM,cAAc,MAAM,IAAA,0IAAO;IACjC,MAAM,eAAe,YAAY,GAAG,CAAC,2BAA2B;IAChE,IAAI,cAAc,OAAO;IAEzB,2BAA2B;IAC3B,MAAM,OAAO,MAAM;IACnB,OAAO,MAAM,cAAc;AAC/B;AAEO,eAAe;IAClB,MAAM,cAAc,MAAM,IAAA,0IAAO;IACjC,MAAM,SAAS,YAAY,GAAG,CAAC,iBAAiB;IAEhD,IAAI,CAAC,QAAQ,OAAO;IAEpB,MAAM,OAAO,MAAM,6IAAM,CAAC,IAAI,CAAC,UAAU,CAAC;QACtC,OAAO;YAAE,IAAI;QAAO;QACpB,SAAS;YAAE,OAAO;QAAK;IAC3B;IAEA,OAAO;AACX;AAEO,eAAe;IAClB,MAAM,OAAO,MAAM;IACnB,IAAI,CAAC,QAAQ,KAAK,KAAK,CAAC,MAAM,KAAK,GAAG,OAAO;IAE7C,wDAAwD;IACxD,OAAO,KAAK,KAAK,CAAC,EAAE;AACxB;AAEO,eAAe;IAClB,MAAM,OAAO,MAAM;IACnB,OAAO,MAAM,sBAAsB;AACvC"}},
    {"offset": {"line": 101, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/NEW/packages/frontend/src/components/admin/AdminSidebar.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const AdminSidebar = registerClientReference(\n    function() { throw new Error(\"Attempted to call AdminSidebar() from the server but AdminSidebar is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/packages/frontend/src/components/admin/AdminSidebar.tsx <module evaluation>\",\n    \"AdminSidebar\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,eAAe,IAAA,wQAAuB,EAC/C;IAAa,MAAM,IAAI,MAAM;AAAwO,GACrQ,yFACA","ignoreList":[0]}},
    {"offset": {"line": 115, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/NEW/packages/frontend/src/components/admin/AdminSidebar.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const AdminSidebar = registerClientReference(\n    function() { throw new Error(\"Attempted to call AdminSidebar() from the server but AdminSidebar is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/packages/frontend/src/components/admin/AdminSidebar.tsx\",\n    \"AdminSidebar\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,eAAe,IAAA,wQAAuB,EAC/C;IAAa,MAAM,IAAI,MAAM;AAAwO,GACrQ,qEACA","ignoreList":[0]}},
    {"offset": {"line": 129, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 137, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/NEW/packages/frontend/src/app/admin/layout.tsx"],"sourcesContent":["import { getCurrentUser } from \"@brandmind/backend/auth/session\";\nimport { redirect } from \"next/navigation\";\nimport { AdminSidebar } from \"@/components/admin/AdminSidebar\";\n\nexport default async function AdminLayout({\n    children,\n}: {\n    children: React.ReactNode;\n}) {\n    const user = await getCurrentUser();\n\n    // Strict Admin Check\n    if (!user || user.role !== \"admin\") {\n        redirect(\"/command-center\");\n    }\n\n    return (\n        <div className=\"min-h-screen bg-[var(--background)] flex\">\n            {/* Admin Sidebar */}\n            <AdminSidebar />\n\n            {/* Main Content Area */}\n            <main className=\"flex-1 min-w-0 overflow-y-auto\">\n                <div className=\"max-w-7xl mx-auto px-6 py-10 lg:px-10\">\n                    {children}\n                </div>\n            </main>\n        </div>\n    );\n}\n"],"names":[],"mappings":";;;;;AAAA;AACA;AAAA;AACA;;;;;AAEe,eAAe,YAAY,EACtC,QAAQ,EAGX;IACG,MAAM,OAAO,MAAM,IAAA,+JAAc;IAEjC,qBAAqB;IACrB,IAAI,CAAC,QAAQ,KAAK,IAAI,KAAK,SAAS;QAChC,IAAA,iMAAQ,EAAC;IACb;IAEA,qBACI,8OAAC;QAAI,WAAU;;0BAEX,8OAAC,mLAAY;;;;;0BAGb,8OAAC;gBAAK,WAAU;0BACZ,cAAA,8OAAC;oBAAI,WAAU;8BACV;;;;;;;;;;;;;;;;;AAKrB"}}]
}